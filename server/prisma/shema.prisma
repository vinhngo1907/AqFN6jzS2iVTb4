generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model Supporter {
    id     String @id @default(uuid())
    userId String @unique
    user   User   @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: Cascade)
}

model Admin {
    id     String @id @default(uuid())
    userId String @unique
    user   User   @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: Cascade)
}

model Mod {
    id     String @id @default(uuid())
    userId String @unique
    user   User   @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: Cascade)
}

model User {
    id          String     @id @default(uuid())
    email       String     @unique @db.VarChar(255)
    fullName    String     @db.VarChar(255)
    username    String     @db.VarChar(255)
    password    String
    roles       Role[]     @relation("UserRole")
    modId       String
    mod         Mod?
    adminId     String
    admin       Admin?
    supporterId String
    supporter   Supporter?
}

model Role {
    id     String  @id @default(uuid())
    name   String  @unique @db.VarChar(200)
    users  User[]  @relation("UserRole")
    userId String?
}
